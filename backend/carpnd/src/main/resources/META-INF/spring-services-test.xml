<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="http://www.springframework.org/schema/aop
       http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-4.0.xsd ">

    <!-- beans de spring -->
    <!--<bean id="services.general" class="services.GeneralService">-->
    <!--<property name="vehicleService" ref="services.vehicle" />-->
    <!--</bean>-->



    <!-- Enable AspectJ style of Spring AOP -->
    <aop:aspectj-autoproxy />

    <bean id="myAspect" class="scripting.ApiAuditor">
        <!-- configure properties of aspect here as normal -->
    </bean>

    <!--<context:load-time-weaver aspectj-weaving="on"/>-->

    <!--<bean id="loggerAspectBean" class="scripting.ApiAuditor"/>-->

    <bean id="services.vehicle" class="services.VehicleService">
        <property name="repository" ref="persistence.vehiclerepository" />
    </bean>

    <bean id="services.user" class="services.UserService">
        <property name="repository" ref="persistence.userrepository" />
    </bean>

    <bean id="services.reservation" class="services.ReservationService">
        <property name="repository" ref="persistence.reservationrepository" />
    </bean>

    <bean id="services.publication" class="services.PublicationService">
        <property name="repository" ref="persistence.publicationrepository" />
    </bean>

    <bean id="services.publish" class="services.PublishService">
        <property name="userService" ref="services.user" />
        <property name="vehicleService" ref="services.vehicle" />
        <property name="publicationService" ref="services.publication" />
        <property name="reservationService" ref="services.reservation" />
        <property name="mailService" ref="services.mail" />
    </bean>

    <bean id="services.reserve" class="services.ReserveService">
        <property name="userService" ref="services.user" />
        <property name="vehicleService" ref="services.vehicle" />
        <property name="publicationService" ref="services.publication" />
        <property name="reservationService" ref="services.reservation" />
        <property name="mailService" ref="services.mail" />
    </bean>

    <bean id="appFixture" class="fixtures.AppFixture">
        <constructor-arg ref="services.publish"/>
    </bean>

    <bean id="services.mail" class="services.MailService">
    </bean>

    <bean id="services.test" class="services.ServiceForTest">
        <property name="sessionFactory" ref="persistence.sessionFactory" />
    </bean>

    <bean id="arch.test" class="architecture.TestArchitecture">
        <property name="serviceTest" ref="services.test" />
    </bean>


</beans>



